# Контейнер односвязный список

## Что такое std::forward_list?
`std::forward_list` — контейнер из стандартной библиотеки C++, реализующий односвязный список.
Элементы хранятся не в непрерывной области памяти, а в отдельных узлах, каждый из которых содержит данные и указатель на следующий узел.
Это позволяет эффективно вставлять и удалять элементы в любом месте списка за константное время O(1) при наличии итератора на нужную позицию.
Однако контейнер не поддерживает обратную итерацию (можно двигаться только вперёд) и прямой доступ по индексу — для достижения элемента нужно пройти все предыдущие элементы.

**Дополнительная информация:**
* Документация: [cppreference - std::forward_list](https://en.cppreference.com/w/cpp/container/forward_list)

## Пример std::forward_list
```cpp
#include <iostream>
#include <forward_list>

void print(const std::forward_list<int> &fl) {
    for (int x : fl) {
        std::cout << x << ' ';
    }
    std::cout << '\n';
}

int main() {
    std::forward_list<int> flist = {1, 2, 3};

    // Добавление элементов в начало
    flist.push_front(0);
    flist.push_front(-1);

    // Вставка после второго элемента
    auto it = flist.begin();
    ++it;
    flist.insert_after(it, 100);

    // Удаление второго элемента
    flist.erase_after(flist.begin());

    // Вывод элементов
    print(flist);

    return 0;
}
```

**Вывод программы:**
```
-1 100 1 2 3
```

## Практические задания
### Контейнер std::forward_list

#### 1. Создание и заполнение списка
Напишите функцию `createAndFillList`, которая:
- Создаёт пустой `std::forward_list<int>`.
- Добавляет элементы от 1 до N в начало списка с помощью `push_front()`.
- Выводит все элементы списка на экран.

**Пример использования:**
```cpp
createAndFillList(5);
// вывод: 5 4 3 2 1
```

#### 2. Вставка после заданной позиции
Создайте функцию `insertAfterPosition`, которая:
- Принимает `std::forward_list<int>` по ссылке, позицию и значение.
- Находит элемент на заданной позиции.
- Вставляет новое значение после найденной позиции с помощью `insert_after()`.
- Возвращает `true` при успешной вставке, `false` если позиция недопустима.

**Пример использования:**
```cpp
std::forward_list<int> fl = {1, 2, 3, 4};
insertAfterPosition(fl, 1, 99);
// fl содержит: {1, 2, 99, 3, 4}
```

#### 3. Удаление элементов по значению
Напишите функцию `removeAllOccurrences`, которая:
- Принимает `std::forward_list<int>` по ссылке и значение для удаления.
- Удаляет все вхождения заданного значения из списка.
- Использует метод `erase_after`.
- Возвращает количество удалённых элементов.

**Пример использования:**
```cpp
std::forward_list<int> fl = {1, 2, 3, 2, 4, 2};
int removed = removeAllOccurrences(fl, 2);
// fl содержит: {1, 3, 4}
// removed == 3
```

#### 4. Слияние отсортированных списков
Создайте функцию `mergeSortedLists`, которая:
- Принимает два отсортированных `std::forward_list<int>` по ссылке.
- Объединяет второй список в первый с сохранением порядка сортировки.
- После слияния второй список становится пустым, используя метод `clear()`.

**Пример использования:**
```cpp
std::forward_list<int> fl1 = {1, 3, 5};
std::forward_list<int> fl2 = {2, 4, 6};
mergeSortedLists(fl1, fl2);
// fl1 содержит: {1, 2, 3, 4, 5, 6}
// fl2 пуст
```

#### 5. Перемещение элементов
Напишите функцию `moveElementsToFront`, которая:
- Принимает `std::forward_list<int>` по ссылке и значение.
- Перемещает все элементы с заданным значением в начало списка.
- Сохраняет относительный порядок всех элементов.

**Пример использования:**
```cpp
std::forward_list<int> fl = {1, 3, 2, 3, 4, 3};
moveElementsToFront(fl, 3);
// fl содержит: {3, 3, 3, 1, 2, 4}
```

#### 6. Удаление элементов по условию
Напишите функцию `removeIf`, которая:
- Принимает `std::forward_list<int>` по ссылке и предикатную функцию.
- Удаляет все элементы, удовлетворяющие условию предиката.
- Использует метод `remove_if()`.
- Возвращает количество удалённых элементов.

**Пример использования:**
```cpp
bool isOdd(int x) { return x % 2 != 0; }

std::forward_list<int> fl = {1, 2, 3, 4, 5, 6};
int removed = removeIf(fl, isOdd);
// fl содержит: {2, 4, 6}
// removed == 3
```

#### 7. Класс полиномов
Создайте класс `Polynomial`, который:
- Использует `std::forward_list<std::pair<int, double>>` для хранения ненулевых членов (степень, коэффициент).
- Хранит члены в порядке убывания степени.
- Реализует метод `addTerm(degree, coefficient)` для добавления члена.
- Содержит метод `evaluate(x)` для вычисления значения полинома в точке x.
- Имеет метод `derivative()` для получения производной полинома.
- Содержит метод `print()` для вывода полинома в читаемом виде.

**Пример использования:**
```cpp
Polynomial p;
p.addTerm(2, 3.0);  // 3x²
p.addTerm(1, -2.0); // -2x
p.addTerm(0, 5.0);  // +5
p.print(); // "3x² - 2x + 5"
double result = p.evaluate(2.0); // 3*4 - 2*2 + 5 = 13
Polynomial dp = p.derivative(); // 6x - 2
```

#### 8. Многоуровневый список задач
Создайте класс `TaskManager`, который:
- Использует `std::vector<std::forward_list<std::string>>` для хранения задач по приоритетам.
- Имеет несколько уровней приоритета (например, 0 - высокий, 1 - средний, 2 - низкий).
- Реализует метод `addTask(priority, task)` для добавления задачи.
- Содержит метод `getNextTask()` для получения и удаления задачи с наивысшим приоритетом.
- Имеет метод `removeTask(priority, task)` для удаления конкретной задачи.
- Содержит метод `printAllTasks()` для вывода всех задач по приоритетам.

**Пример использования:**
```cpp
TaskManager tm(3); // 3 уровня приоритета
tm.addTask(0, "Fix critical bug");
tm.addTask(2, "Update documentation");
tm.addTask(0, "Deploy to production");
tm.addTask(1, "Review pull request");
std::string task = tm.getNextTask(); // "Fix critical bug"
tm.printAllTasks();
```

#### 9. Сортировка вставками
Создайте функцию `insertionSort`, которая:
- Принимает `std::forward_list<int>` по ссылке.
- Реализует алгоритм сортировки вставками вручную.
- Выводит список после каждой итерации для демонстрации процесса.

**Пример использования:**
```cpp
std::forward_list<int> fl = {5, 2, 8, 1, 9};
insertionSort(fl);
// fl содержит: {1, 2, 5, 8, 9}
```
