# –ó–∞–¥–∞—á–∞ –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –•–µ—à-–º–Ω–æ–∂–µ—Å—Ç–≤–æ (HashSet)

## üéØ –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–π –∫–ª–∞—Å—Å `HashSet<T>`, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `std::unordered_set` –≤ C++), –∏—Å–ø–æ–ª—å–∑—É—è **—Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É —Å –∑–∞–∫—Ä—ã—Ç–æ–π –∞–¥—Ä–µ—Å–∞—Ü–∏–µ–π**.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã "–ö–ª—é—á-–ó–Ω–∞—á–µ–Ω–∏–µ", –¥–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ **—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏** —Ç–∏–ø–∞ `T`.

## ‚öôÔ∏è –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–ª–∞—Å—Å–∞

```cpp
#include <vector>
#include <list>
#include <functional>

template <
    typename T, 
    typename Hash = std::hash<T> // –•–µ—à-—Ñ—É–Ω–∫—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
>
class HashSet {
private:
    // –¢–∏–ø –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∫–ª—é—á–µ–π) –≤ —Ü–µ–ø–æ—á–∫–µ
    using Element = T;
    
    // –¢–∏–ø –¥–ª—è —Ü–µ–ø–æ—á–∫–∏ (—Å–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
    using Bucket = std::list<Element>;
    
    // –í–µ–∫—Ç–æ—Ä –∫–æ—Ä–∑–∏–Ω
    std::vector<Bucket> table;
    
    Hash hasher;
    size_t num_buckets;

    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ –∫–æ—Ä–∑–∏–Ω—ã
    size_t getBucketIndex(const T& element) const;

public:
    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    explicit HashSet(size_t initial_buckets = 101);
    
    // –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    void insert(const T& element); // –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç
    bool contains(const T& element) const; // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ
    void remove(const T& element); // –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç
};
```

## üõ†Ô∏è –ó–∞–¥–∞–Ω–∏—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ó–∞–¥–∞–Ω–∏–µ 1: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –•–µ—à-–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è

–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã.

```cpp
// –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
explicit HashSet(size_t initial_buckets = 101);

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ –∫–æ—Ä–∑–∏–Ω—ã
size_t getBucketIndex(const T& element) const;
```

**–§–æ—Ä–º—É–ª–∞:**
```
index = hasher(element) % num_buckets
```

### –ó–∞–¥–∞–Ω–∏–µ 2: –ú–µ—Ç–æ–¥ `contains` (–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è)

–†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `contains(const T& element) const`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —ç–ª–µ–º–µ–Ω—Ç –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

1.  –í—ã—á–∏—Å–ª–∏—Ç—å –∏–Ω–¥–µ–∫—Å –∫–æ—Ä–∑–∏–Ω—ã –¥–ª—è `element`.
2.  –ü—Ä–æ–π—Ç–∏—Å—å –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É —Å–ø–∏—Å–∫—É (`Bucket`).
3.  –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–π–¥–µ–Ω, –≤–µ—Ä–Ω—É—Ç—å `true`.
4.  –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é, –≤–µ—Ä–Ω—É—Ç—å `false`.

### –ó–∞–¥–∞–Ω–∏–µ 3: –ú–µ—Ç–æ–¥ `insert` (–í—Å—Ç–∞–≤–∫–∞)

–†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `insert(const T& element)`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

1.  –°–Ω–∞—á–∞–ª–∞ –≤—ã–∑–≤–∞—Ç—å `contains(element)`. –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç **—É–∂–µ** —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤—Å—Ç–∞–≤–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.
2.  –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ—Ç, –≤—ã—á–∏—Å–ª–∏—Ç—å –∏–Ω–¥–µ–∫—Å –∫–æ—Ä–∑–∏–Ω—ã.
3.  –î–æ–±–∞–≤–∏—Ç—å `element` –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å–ø–∏—Å–æ–∫ (`Bucket`).

### –ó–∞–¥–∞–Ω–∏–µ 4: –ú–µ—Ç–æ–¥ `remove` (–£–¥–∞–ª–µ–Ω–∏–µ)

–†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `remove(const T& element)`, –∫–æ—Ç–æ—Ä—ã–π —É–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

1.  –í—ã—á–∏—Å–ª–∏—Ç—å –∏–Ω–¥–µ–∫—Å –∫–æ—Ä–∑–∏–Ω—ã.
2.  –ù–∞–π—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Å–ø–∏—Å–∫–µ.
3.  –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–π–¥–µ–Ω, —É–¥–∞–ª–∏—Ç—å –µ–≥–æ –∏–∑ —Å–ø–∏—Å–∫–∞.
