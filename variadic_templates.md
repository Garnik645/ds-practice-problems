# Variadic Templates и Universal References в C++

## Что такое Variadic Templates?
Variadic Templates — это шаблоны функций и классов, которые могут принимать произвольное количество аргументов любых типов.
Они позволяют писать универсальный код, где число параметров не фиксировано.

## Что такое Universal References?
Universal References — это особый вид ссылок `T&&`, которые могут связываться как с lvalue, так и с rvalue объектами.
Они используются вместе с perfect forwarding для эффективной передачи аргументов.

Дополнительная информация:
- Universal References: [Scott Meyers - Universal References](https://isocpp.org/blog/2012/11/universal-references-in-c11-scott-meyers)

## Пример Variadic Templates
```cpp
template<typename T>
void print(const T& arg) {
    std::cout << arg << '\n';
}

template<typename T, typename... Rest>
void print(const T& first, const Rest&... rest) {
    std::cout << first << ' ';
    print(rest...);
}

int main() {
    print(1, 2.5, "hello", 'c');
}
```

## Пример Universal References
```cpp
void foo(int &l_value) {
    std::cout << "L-value: " << l_value << '\n';
}

void foo(int &&r_value) {
    std::cout << "R-value: " << r_value << '\n';
}

template<typename T>
void process(T&& arg) {
    foo(std::forward<T>(arg));
}

int main() {
    int x = 5;
    process(x);
    process(345);
}
```

## Практические задания
### Variadic Templates
#### 1. Вычисление суммы
Напишите функцию-шаблон `sum`, которая:
- Принимает произвольное количество аргументов
- Возвращает их сумму
- Работает с разными числовыми типами (`int`, `double`, `float`)

#### 2. Поиск максимального элемента
Создайте функцию-шаблон `findMax`, которая:
- Принимает произвольное количество аргументов разных типов
- Возвращает максимальный элемент

#### 3. Подсчёт количества аргументов
Напишите функцию-шаблон `countArgs`, которая:
- Принимает произвольное количество аргументов
- Возвращает количество переданных аргументов

#### 4. Создание предложения
Напишите функцию-шаблон `makeSentence`, которая:
- Принимает произвольное количество аргументов типа `std::string`
- Возвращает новую строку соеденив все аругменты добавляя пробел между аргументами

Происходит ошибка компиляции если передается аргумент типа не `std::string`.

Например вызвав функцию:
```cpp
makePairList("GNU's", "Not", "Unix")
```

Функция возвращает строку следующего вида:
```cpp
"GNU's Not Unix."
```

#### 5. Логгер
Нужно написать класс `Logger`, который будет выводить сообщения на экран с заданным отступом.

Класс `Logger`:
- Имеет конструктор, который принимает одно число (`int`).
- Это число задаёт, сколько пробелов нужно печатать в начале каждой строки.

Функция `log`:
- Принимает любое количество аргументов разных типов,
- Выводит каждый аргумент на новой строке,
- Перед каждым аргументом печатает нужное количество пробелов (то, что было передано в конструктор).

#### 6. Функция для применения операции ко всем аргументам
Напишите функцию-шаблон `applyAndPrint`, которая:
- Принимает функцию и произвольное количество аргументов
- Применяет функцию к каждому аргументу
- Печатает возвращаемое значение функции

#### 7. Создание списка из аргументов
Напишите функцию-шаблон `makePairList`, которая:
- Принимает произвольное количество аргументов
- Возвращает встроенные друг в друга `std::pair`, содержащий все переданные аргументы

Например вызвав функцию:
```cpp
makePairList(5, 'c', 4.32, 1)
```

Функция возвращает объект следующего вида:
```cpp
std::pair<int(5), std::pair<char('c'), double(4.32)>>
```

### Universal References и Perfect Forwarding
### 1. Идентификация типа значения
Создайте функцию `betterPrint`, которая:
- Принимает произвольное количество аргументов с universal references
- Печатает каждый аргумент на отдельной строке
- Печатает с каждым аргументом его категорию значения (lvalue или rvalue)

#### 2. Функция с perfect forwarding
Создайте функцию-шаблон `callFunction`, которая:
- Принимает функцию и произвольное количество аргументов
- Использует universal references для аргументов
- Передаёт аргументы в функцию с помощью `std::forward`
- Возвращает результат вызова функции

#### 3. Фабричная функция с perfect forwarding
Напишите функцию-шаблон `makeObject<T>`, которая:
- Принимает произвольное количество аргументов для конструктора
- Создаёт объект типа `T`, передавая аргументы в конструктор
- Использует perfect forwarding для эффективной передачи
- Возвращает созданный объект
